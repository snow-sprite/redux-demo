{"version":3,"sources":["store/reducers/cart-reducer.js","store/reducers/products-reducer.js","store/reducers/index.js","store/mutations.js","store/index.js","store/actions/cart-actions.js","MyApp.js","index.js"],"names":["initalCart","cart","name","price","num","totalMoney","initProducts","id","allReducer","cartReducer","state","arguments","length","undefined","action","type","Object","objectSpread","toConsumableArray","concat","payload","productsReducer","console","log","rootReducer","combineReducers","store","createStore","composeWithDevTools","add","_ref","goods","esm_extends","MyApp","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","addCart","setState","pre","dispatch","tipContent","isSHowTip","isShowTip","selectGoods","e","val","target","value","minusGoods","addGoods","changePrice","changeNum","clearTip","_this2","getState","react_default","a","createElement","className","placeholder","onChange","onFocus","onClick","map","ind","key","React","Component","connect","ReactDOM","render","es","src_MyApp_0","document","getElementById"],"mappings":"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","file":"static/js/main.5bdd193b.chunk.js","sourcesContent":["// cartReducer\nimport { ADD_TO_CART } from '../mutations'\n// 初始商品列表\nconst initalCart = {\n  cart: [\n    {\n      name: 'apple',\n      price: 5,\n      num: 10,\n      totalMoney: 50\n    },\n    {\n      name: 'banana',\n      price: 2,\n      num: 8,\n      totalMoney: 16\n    }\n  ]\n}\n\nconst cartReducer = (state = initalCart, action) => {\n  switch(action.type) {\n    case ADD_TO_CART:\n      return {\n        ...state,\n        cart: [...state.cart, action.payload]\n      }\n    default:\n      return state;\n  }\n}\n\nexport default cartReducer;\n","// products 商品列表\n\nconst initProducts = {\n  products: [\n    {\n      name: 'orange',\n      id: 1\n    },\n    {\n      name: 'grape',\n      id: 2\n    },\n    {\n      name: 'peach',\n      id: 3\n    },\n    {\n      name: 'pomegranate',\n      id: 4\n    },\n    {\n      name: 'watermelon',\n      id: 5\n    }\n  ]\n}\n\nconst homeReducer = (state=[], action) => {\n  state = [...initProducts.products, ...state]\n  console.log('action', action);\n  return state;\n}\n\nexport default homeReducer;\n","// 创建 reducer, 合并多个reducer\nimport { combineReducers } from 'redux';\n\nimport cartReducer from './cart-reducer';\nimport productsReducer from './products-reducer';\n\nconst allReducer = {\n  cartReducer,\n  productsReducer\n}\n\n// 将两个reducer 合并成一个reducer\nconst rootReducer = combineReducers(allReducer);\n\nexport default rootReducer\n","// 添加商品方法\nexport const ADD_TO_CART = 'ADD_TO_CART';\n","// import { createStore, applyMiddleware, compose } from 'redux'\nimport { createStore } from 'redux'\n// chrome 调试\nimport { composeWithDevTools } from 'redux-devtools-extension'\n// reducer 集合\nimport rootReducer from './reducers'\n\n// 应用第三方插件\n// import createSagaMiddleware from 'redux-saga'\n\n\n// const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n// const sagaMiddleWare = createSagaMiddleware()\n// 创建store\nconst store = createStore(\n  rootReducer,\n  // composeEnhancers(\n    // applyMiddleware(sagaMiddleWare)\n  // )\n  composeWithDevTools() // 无法与上一条命令兼容\n);\n\nexport default store;\n","/*\n * 增加购物车的方法\n */\nimport { ADD_TO_CART } from '../mutations'\nexport const add = ({...goods}) => {\n  return {\n    type: ADD_TO_CART,\n    payload: {...goods}\n  }\n}\n","import React from 'react'\nimport './MyApp.css'\n// 引入 store\nimport store from './store'\nimport { connect } from 'react-redux'\n// 引入 store add方法\nimport { add } from './store/actions/cart-actions'\n\nclass MyApp extends React.Component{\n  constructor(props) {\n    super(props)\n    this.state = {\n      name: '',\n      price: 99,\n      num: 1,\n      totalMoney: null,\n      isSHowTip: false,\n      tipContent: ''\n    }\n  }\n  /*\n   * 添加物品\n   */\n  addCart = () => {\n    if (!this.state.name) {\n      this.setState(pre => ({\n        tipContent: '添加商品名',\n        isSHowTip: !pre.isShowTip\n      }))\n      return\n    }\n    this.setState(pre => ({\n      totalMoney: pre.num * pre.price\n    }), () => {\n      store.dispatch(add(this.state))\n      this.setState({name: ''})\n    })\n  }\n\n  /*\n   * selectGoods 选择商品\n   */\n   selectGoods = (e) => {\n     let val = e.target.value\n     this.setState(pre => ({\n       name: val\n     }))\n   }\n\n   /*\n    * 减商品数量\n    */\n   minusGoods = () => {\n     if (this.state.num === 0) return\n     this.setState(pre => pre.num --)\n   }\n\n   /*\n    * 加商品\n    */\n   addGoods = () => {\n     this.setState(pre => pre.num ++)\n   }\n   /*\n    * 修改商品单价\n    */\n   changePrice = (e) => {\n     let val = e.target.value\n     this.setState(pre => pre.price = val)\n   }\n\n   /*\n    * 修改商品数\n    */\n   changeNum = (e) => {\n     // 设变量防警告 因为setState 是异步操作，不要直接使用变量 e\n     let val = e.target.value\n     this.setState(pre => ({\n       num: val\n     }))\n   }\n\n   /*\n    * 清除提示\n    */\n   clearTip = () => {\n     this.setState({\n       tipContent: '',\n       isSHowTip: false\n     })\n   }\n\n  render () {\n    const { cartReducer } = store.getState()\n    return (\n      <div className=\"project\">\n        <span className=\"tips\">{ this.state.tipContent ? '!' : null } { this.state.tipContent }</span>\n        <div className=\"box\">\n          <input type=\"text\" className=\"select\" placeholder=\"商品名称！\" value={this.state.name} onChange={e => this.selectGoods(e)} onFocus={() => this.clearTip()} />\n          <p className=\"ml\">\n            <span className=\"singleName\">单价：¥</span><input type=\"number\" className=\"single\" value={this.state.price} onChange={(e) => this.changePrice(e)}/>\n          </p>\n          <p className=\"ml\">\n            <span className=\"singleName\">数量：</span>\n            <button className=\"minus\" onClick={() => this.minusGoods()}>-</button>\n            <input type=\"number\" className=\"input\" value={this.state.num} onChange={(e) => this.changeNum(e)}/>\n            <button className=\"add\" onClick={() => this.addGoods()}>+</button>\n          </p>\n        </div>\n        <button className=\"increase ml\" onClick={() => this.addCart()}>添加</button>\n        <ul className=\"ul\">\n          {\n            cartReducer.cart.map((val, ind) => {\n              return <li className=\"li\" key={ind}><span>商品：{ val.name }</span> <span>单价：{ val.price }</span> <span>数量：{ val.num }</span> <span>总价：{ val.totalMoney }</span></li>\n            })\n          }\n        </ul>\n      </div>\n    )\n  }\n}\n\nexport default connect(add)(MyApp)\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n// 引入 store\nimport store from './store'\nimport MyApp from './MyApp'\nReactDOM.render(\n  <Provider store={store}>\n    <MyApp />\n  </Provider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}